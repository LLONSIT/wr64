
name: Wave Race 64 (North America)
sha1: 508dfc2d4caa42b6f6de5263d0aed5e44ac7966a
options:
  basename: waverace64
  target_path: baserom.us.z64
  base_path: .
  compiler: IDO
  find_file_boundaries: True
  header_encoding: ASCII
  platform: n64
  # undefined_funcs_auto: True
  # undefined_funcs_auto_path: undefined_funcs_auto.txt
  # undefined_syms_auto: True
  # undefined_syms_auto_path: undefined_syms_auto.txt
  # symbol_addrs_path: symbol_addrs.txt
  # asm_path: asm
  src_path: src
  build_path: build
  # extensions_path: tools/splat_ext
  # mips_abi_float_regs: o32
  # section_order: [".text", ".data", ".rodata", ".bss"]
  # auto_all_sections: [".data", ".rodata", ".bss"]
  # libultra_symbols: True
  # hardware_regs: True
segments:
  - name: header
    type: header
    start: 0x0
  - name: boot
    type: bin
    start: 0x40
  - name: main
    type: code
    start: 0x1000
    vram: 0x80046800
    subsegments:


      #Game layout

      #First_Segment (texture bin compressed segment?) -> Game code -> libultra_Segment

      - [0x1000, hasm, entrypoint]
      - [0x1050, c, game_1050] #Some GFX macros
      - [0x1C70, c, main]
      - [0x23E0, c, game_23E0]
      - [0x5480, c, game_5480]
      - [0x69D0, c, game_69D0]
      - [0xBD30, c, game_BD30]
      - [0xBF40, c, game_BF40]
      - [0xC6C0, c, game_C6C0]
      - [0x24270, c, game_24270]
      - [0x24B00, c, game_24B00]
      - [0x2C670, c, game_2C670]
      - [0x34D50, c, game_34D50]
      - [0x355D0, c, core/game_355D0]
      - [0x39F00, c, game_39F00]
      - [0x3A580, c, game_3A580]
      - [0x3AC00, c, game_3AC00]
      - [0x42670, c, game_42670]
      - [0x436A0, c, game_43A60]
      - [0x43DA0, c, game_43DA0]
      - [0x4C750, c, game_4C750]
      - [0x4F850, c, game_4F850]
      - [0x52990, c, game_52990]
      - [0x52CD0, c, game_52CD0]
      - [0x68A10, c, game_68A10]
      - [0x6EF50, c, game_6EF50]
      - [0x6F530, c, game_6F530]
      - [0x6F5D0, c, game_6F5D0]
      - [0x71AF0, c, game_71AF0]
      - [0x74D80, c, game_74D80]
      - [0x77080, c, game_77080]
      - [0x79B70, c, game_79B70]

      #Libultra Starts!
      - [0x7FF20, c, os/osVirtualtoPhysical]
      - [0x7FFA0, c, os/osSendMesg]
      - [0x800F0, c, os/osGetTime]
      - [0x80180, c, os/osSetTime]
      - [0x801B0, c, os/osViSwapBuffer]
      - [0x80200, c, os/osContReadData]
      - [0x80460, c, os/osRecvMesg]
      - [0x805A0, c, os/osDpgetStat]
      - [0x805F0, c, os/osViSetMode]
      - [0x80660, c, os/osViSetSpecialFeatures]
      - [0x80820, c, os/osSpTaskYield]
      - [0x80840, c, os/sptask]
      - [0x80B00, c, os/osDpSetStatus]
      - [0x80B10, c, os/osCreateMesgQueue]
      - [0x80B40, c, os/osSetEventMesg]
      - [0x80BB0, c, os/osViSetEvent]
      - [0x80C20, c, os/osCreateThread] #Important
      - [0x80D70, c, os/osStartThread]
      - [0x80EC0, c, os/osSpTaskYielded]
      - [0x80F40, hasm, libultra/writebackdcacheall]
      - [0x80F70, c, libultra_nm/UnkLibultraSeg_80F70]
      - [0x812D0, c, os/osViBlack]
      - [0x81340, c, os/osViGetCurrentFramebuffer]
      - [0x81380, c, os/osCreatePiManager]
      - [0x81500, c, os/osSetThreadPri]
      - [0x815E0, c, libultra_nm/UnkLibultraSeg_815E0]
      - [0x81810, hasm, libultra/sqrtf]
      - [0x81820, c, game_81820] #Game segment
      - [0x81B80, asm, guOrtho]
      - [0x81D40, c, os/gu/guTranslate] #TODO
      - [0x81DE0, c, libultra_nm/UnkLibultraSeg_81DE0] #gu funcs
      - [0x822A0, c, libultra_nm/UnkLibultraSeg_822A0]
      - [0x82AD0, c, os/osEepromLongWrite]
      - [0x82C10, c, libultra_nm/UnkLibultraSeg_82C10]
      - [0x82D50, c, libultra_nm/UnkLibultraSeg_82D50]
      - [0x82DC0, c, libultra_nm/UnkLibultraSeg_82DC0]
      - [0x830F0, c, libultra_nm/UnkLibultraSeg_830F0]
      - [0x83270, c, libultra_nm/UnkLibultraSeg_83270]
      - [0x83410, c, libultra_nm/UnkLibultraSeg_83410]
      - [0x835C0, c, libultra_nm/UnkLibultraSeg_835C0]
      - [0x840B0, c, libultra_nm/UnkLibultraSeg_840B0]
      - [0x84620, c, os/osPhysicalToVirtual]
      - [0x84630, c, libultra_nm/UnkLibultraSeg_84630]
      - [0x84760, c, libultra_nm/UnkLibultraSeg_84760]
      - [0x84A10, c, libultra_nm/UnkLibultraSeg_84A10]
      - [0x84AC0, hasm, libultra/invaldcache]
      - [0x84B70, c, libultra_nm/UnkLibultraSeg_84B70]
      - [0x84C80, hasm, libultra/invalicache]
      - [0x84D00, hasm, libultra/bzero]
      - [0x84DA0, c, os/osAiSetFrequency]
      - [0x84F00, c, os/audio/bnkf]
      - [0x85150, c, os/osAiGetLength]
      - [0x85160, c, os/osAiSetNextBuffer]
      - [0x85210, hasm, libultra/probetlb]
      - [0x852D0, hasm, libultra/interrupt]
      - [0x85310, asm]
      - [0x85BC0, asm, libultra/osGetCount]
      - [0x85BD0, c, libultra_nm/unkLibultraSeg_85BD0]
      - [0x86100, c, os/siacs]
      - [0x861C0, c, os/__osSiRawStartDma]
      - [0x86270, asm]
      - [0x86280, asm]
      - [0x86610, asm]
      - [0x86650, asm]
      - [0x866E0, c, os/__osSpDeviceBusy]
      - [0x86710, asm]
      - [0x86720, asm]
      - [0x86740, c, os/osPiGetDeviceType]
      - [0x86750, asm]
      - [0x86AB0, asm]
      - [0x86B70, c, os/osPiRawStartDma]
      - [0x86C50, c, os/osDevMgrMain]
      - [0x86DD0, asm, libultra/unkLibultraSeg_86DD0]
      - [0x86DE0, asm, libultra/unkLibultraSeg_86DE0]
      - [0x86DF0, asm]
      - [0x86EA0, asm, libultra/unkLibultraSeg_86EA0]
      - [0x86F00, asm]
      - [0x86F60, c, os/ll]
      - [0x87300, asm]
      - [0x87570, c, libultra_nm/unkLibultraSeg_87570]
      - [0x87870, c, libultra_nm/unkLibultraSeg_87870]
      - [0x897A0, asm]
      - [0x89B30, asm]
      - [0x8ACC0, asm]
      - [0x8AD60, c, os/osJamMesg]
      - [0x8AEB0, c, os/osPiGetCmdQueue]
      - [0x8AEE0, asm]
      - [0x8B390, asm]
      - [0x8B4C0, c, libultra_nm/unkLibultraSeg_8B4C0]
      - [0x8B520, c, os/osDestroyThread]
      - [0x8B620, hasm, libultra/setcompare]
      - [0x8B630, asm]
      - [0x8B660, asm]
      - [0x8B7E0, c, os/libultra_Segment] #mix Litob and Ltob
      - [0x8C8B0, hasm, libultra/getcause]
      - [0x8C8C0, c, os/__osAtomicDec]
      - [0x8C920, c, os/libc/ldiv]
      - [0x8CAB0, asm, fast3d_part1] #RSP part one,
      - [0x8CBE0, bin, fast3d_part2]
      - [0x8D8E0, bin, fast3d_audio]
      #- [0x1AE660, bin]

  - name: unk_bin #
    type: bin
    start: 0x8DEF0

  - name: mio0_seg_1AE660
    type: bin
    start: 0x1AE660

  - name: mio0_seg_1E5860
    type: bin
    start: 0x1E5860

  - name: mio_seg_1ECFCF0
    type: bin
    start: 0x1EFCF0

  - name: mio_seg_1FB270
    type: bin
    start: 0x1FB270

  - name: mio_seg_208980
    type: bin
    start: 0x208980

  - name: mio_seg_20F940
    type: bin
    start: 0x20F940

  - name: mio_seg_217630
    type: bin
    start: 0x217630

  - name: mio_seg_221A60
    type: bin
    start: 0x221A60

  - name: mio_seg_2293E0
    type: bin
    start: 0x2293E0

  - name: mio_seg_234420
    type: bin
    start: 0x234420

  - name: mio_seg_241070
    type: bin
    start: 0x241070

  - name: mio_seg_243540
    type: bin
    start: 0x243540

  - name: mio_seg_245430
    type: bin
    start: 0x245430

  - name: mio_seg_247C20
    type: bin
    start: 0x247C20

  - name: mio_seg_24B440
    type: bin
    start: 0x24B440

  - name: mio_seg_24E570
    type: bin
    start: 0x24E570

  - name: mio_seg_250CB0
    type: bin
    start: 0x250CB0

  - name: mio_seg_254F70
    type: bin
    start: 0x254F70

  - name: mio_seg_257D40
    type: bin
    start: 0x257D40

  - name: mio_seg_2631D0
    type: bin
    start: 0x2631D0

  - name: mio_seg_268040
    type: bin
    start: 0x268040

  - name: mio_seg_271E00
    type: bin
    start: 0x271E00

  - name: mio_seg_2789E0
    type: bin
    start: 0x2789E0

  - name: mio_seg_2829A0
    type: bin
    start: 0x2829A0

  - name: mio_seg_289570
    type: bin
    start: 0x289570

  - name: mio_seg_295DB0
    type: bin
    start: 0x295DB0

  - name: mio_seg_29CB00
    type: bin
    start: 0x29CB00

  - name: mio_seg_29F7E0
    type: bin
    start: 0x29F7E0

  - name: mio_seg_2A2150
    type: bin
    start: 0x2A2150

  - name: mio_seg_2E5FB0
    type: bin
    start: 0x2E5FB0

  - name: mio_seg_2F9BE0
    type: bin
    start: 0x2F9BE0

  - name: mio_seg_30BC50
    type: bin
    start: 0x30BC50

  - name: mio_seg_30EC20
    type: bin
    start: 0x30EC20

  - name: mio_seg_313A90
    type: bin
    start: 0x313A90

  - name: Race_position_numbers
    type: bin
    start: 0x317270

  - name: mio_seg_31CF40
    type: bin
    start: 0x31CF40

  - name: mio_seg_320D10
    type: bin
    start: 0x320D10

  - name: mio_seg_327E90
    type: bin
    start: 0x327E90

  - name: mio_seg_32B8C0
    type: bin
    start: 0x32B8C0

  - name: mio_seg_32B8E0
    type: bin
    start: 0x32B8E0

  - name: mio_seg_330990
    type: bin
    start: 0x330990

  - name: mio_seg_3320E0
    type: bin
    start: 0x3320E0

  - name: mio_seg_333340
    type: bin
    start: 0x333340

  - name: mio_seg_333960
    type: bin
    start: 0x333960

  - name: mio_seg_333E60
    type: bin
    start: 0x333E60

  - name: mio_seg_336790
    type: bin
    start: 0x336790

  - name: mio_seg_337780
    type: bin
    start: 0x337780

  - name: mio_seg_338470
    type: bin
    start: 0x338470

  - name: mio_seg_3396A0
    type: bin
    start: 0x3396A0

  - name: mio_seg_33AD40
    type: bin
    start: 0x33AD40

  - name: mio_seg_33B7F0
    type: bin
    start: 0x33B7F0

  - name: mio_seg_33BEB0
    type: bin
    start: 0x33BEB0

  - name: mio_seg_340F20
    type: bin
    start: 0x340F20

  - name: mio_seg_3423E0
    type: bin
    start: 0x3423E0

  - name: mio_seg_345D70
    type: bin
    start: 0x345D70

  - name: mio_seg_351260
    type: bin
    start: 0x351260

  - name: mio_seg_352CA0
    type: bin
    start: 0x352CA0

  - name: mio_seg_354290
    type: bin
    start: 0x354290

  - name: mio_seg_3567F0
    type: bin
    start: 0x3567F0

  - name: mio_seg_358CE0
    type: bin
    start: 0x358CE0

  - name: mio_seg_35AA80
    type: bin
    start: 0x35AA80

  - name: mio_seg_35C4C0
    type: bin
    start: 0x35C4C0

  - name: mio_seg_35E370
    type: bin
    start: 0x35E370

  - name: mio_seg_35FCB0
    type: bin
    start: 0x35FCB0

  - name: mio_seg_361A90
    type: bin
    start: 0x361A90

  - name: mio_seg_361BA0
    type: bin
    start: 0x361BA0

  - name: mio_seg_361C30
    type: bin
    start: 0x361C30

  - name: mio_seg_361D20
    type: bin
    start: 0x361D20

  - name: mio_seg_361DB0
    type: bin
    start: 0x361DB0

  - name: mio_seg_361EC0
    type: bin
    start: 0x361EC0

  - name: mio_seg_361FB0
    type: bin
    start: 0x361FB0

  - name: mio_seg_3620B0
    type: bin
    start: 0x3620B0

  - name: mio_seg_362DE0
    type: bin
    start: 0x362DE0

  - name: mio_seg_363D60
    type: bin
    start: 0x363D60

  - name: mio_seg_364950
    type: bin
    start: 0x364950

  - name: mio_seg_3654F0
    type: bin
    start: 0x3654F0

  - name: mio_seg_365EC0
    type: bin
    start: 0x365EC0

  - name: mio_seg_366B40
    type: bin
    start: 0x366B40

  - name: mio_seg_3679D0
    type: bin
    start: 0x3679D0

  - name: mio_seg_3684B0
    type: bin
    start: 0x3684B0

  - name: mio_seg_368910
    type: bin
    start: 0x368910

  - name: mio_seg_368FB0
    type: bin
    start: 0x368FB0

  - name: mio_seg_3694C0
    type: bin
    start: 0x3694C0

  - name: mio_seg_369950
    type: bin
    start: 0x369950

  - name: mio_seg_369EE0
    type: bin
    start: 0x369EE0

  - name: mio_seg_36A4B0
    type: bin
    start: 0x36A4B0

  - name: mio_seg_36A9D0
    type: bin
    start: 0x36A9D0

  - name: mio_seg_36AE80
    type: bin
    start: 0x36AE80

  - name: mio_seg_36B5F0
    type: bin
    start: 0x36B5F0

  - name: mio_seg_36BBD0
    type: bin
    start: 0x36BBD0

  - name: mio_seg_36C210
    type: bin
    start: 0x36C210

  - name: mio_seg_36CDC0
    type: bin
    start: 0x36CDC0

  - name: mio_seg_36D820
    type: bin
    start: 0x36D820

  - name: mio_seg_36E020
    type: bin
    start: 0x36E020

  - name: mio_seg_36E9B0
    type: bin
    start: 0x36E9B0

  - name: mio_seg_36F2B0
    type: bin
    start: 0x36F2B0

  - name: mio_seg_36FD40
    type: bin
    start: 0x36FD40

  - name: mio_seg_370F20
    type: bin
    start: 0x370F20

  - name: mio_seg_3718B0
    type: bin
    start: 0x3718B0

  - name: mio_seg_3721B0
    type: bin
    start: 0x3721B0

  - name: mio_seg_372AB0
    type: bin
    start: 0x372AB0

  - name: mio_seg_3733B0
    type: bin
    start: 0x3733B0

  - name: mio_seg_3738D0
    type: bin
    start: 0x3738D0

  - name: mio_seg_374100
    type: bin
    start: 0x374100

  - name: mio_seg_37D000
    type: bin
    start: 0x37D000

  - name: mio_seg_381A40
    type: bin
    start: 0x381A40

  - name: mio_seg_38A900
    type: bin
    start: 0x38A900

  - name: mio_seg_38F8B0
    type: bin
    start: 0x38F8B0

  - name: mio_seg_398830
    type: bin
    start: 0x398830

  - name: mio_seg_39D300
    type: bin
    start: 0x39D300

  - name: mio_seg_3A6540
    type: bin
    start: 0x3A6540

  - name: mio_seg_3AB060
    type: bin
    start: 0x3AB060

  - name: mio_seg_3B3EB0
    type: bin
    start: 0x3B3EB0

  - name: mio_seg_3B8900
    type: bin
    start: 0x3B8900

  - name: mio_seg_3C15F0
    type: bin
    start: 0x3C15F0

  - name: mio_seg_3C6590
    type: bin
    start: 0x3C6590

  - name: mio_seg_3CF0A0
    type: bin
    start: 0x3CF0A0

  - name: mio_seg_3D3A90
    type: bin
    start: 0x3D3A90

  - name: mio_seg_3DCCF0
    type: bin
    start: 0x3DCCF0

  - name: mio_seg_3E17A0
    type: bin
    start: 0x3E17A0

  - name: mio_seg_3E8EE0
    type: bin
    start: 0x3E8EE0

  - name: mio_seg_3EACF0
    type: bin
    start: 0x3EACF0

  - name: mio_seg_3EE830
    type: bin
    start: 0x3EE830

  - name: mio_seg_3EF030
    type: bin
    start: 0x3EF030

  - name: mio_seg_3EF8C0
    type: bin
    start: 0x3EF8C0

  - name: mio_seg_3F13D0
    type: bin
    start: 0x3F13D0

  - name: mio_seg_3F46F0
    type: bin
    start: 0x3F46F0

  - name: mio_seg_3F5A30
    type: bin
    start: 0x3F5A30

  - name: mio_seg_405810
    type: bin
    start: 0x405810

  - [0x800000]
